<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="salon.dao.MemberDao">
  <resultMap type="member" id="memberMap">
  	<result column="nick" property="nick"/>
  	<result column="email" property="email"/>
  	<result column="pwd" property="pwd"/>
  </resultMap>
  <resultMap type="memberImage" id="memberImageMap">
  	<result column="nick" property="nick"/>
  	<result column="file_name" property="fileName"/>
  </resultMap>
  
	
  	<select id="selectOneByEmailPassword" resultType="Member" parameterType="map">
		select *
		from test_member
		where email=#{email} and pwd=#{password}
	</select>
	
	<select id="insert" parameterType="member">
		insert into test_member(nick, email, pwd) values (#{nick}, #{email}, #{pwd});
	</select>
  
  
  <!-- 파일 -->
    <select id="insertImage" parameterType="memberImage" resultType="memberImage">
    	insert into test_member_image (nick, file_name) values ( #{nick}, #{fileName} );
    </select>
  
</mapper>






